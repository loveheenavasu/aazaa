{% block stylesheets %}
    <link href="{{ asset('css/opentok.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-xs-12">
            <h1>Video sessie</h1>
        </div>

        <div class="col-xs-12">
            <div class="panel panel-default">
                <div class="panel-body form-inline">
                    <div class="form-group col-xs-3">
                        <label for="audio-source-select">Audio:</label>
                        <select id="audio-source-select" class="form-control"></select>
                    </div>
                    <div class="form-group col-xs-3">
                        <label for="video-source-select">Video:</label>
                        <select id="video-source-select" class="form-control"></select>
                    </div>
                    <div class="form-group col-xs-3">
                        <div id="audio-meter">
                            <label for="audio-meter">Volume:</label>
                            <meter min="0" max="1" value="0"></meter>
                        </div>
                    </div>
                    <div class="col-xs-3">
                        <button id="publish-btn" class="btn btn-success " type="button">Start video sessie</button>
                        <a href="{{ path('video_chat_close', {'workshop': workshop.id}) }}" id="stop-btn" class="btn btn-danger" style="display: none">Stop sessie</a>
                    </div>
                </div>

            </div>
        </div>

        <div class="col-xs-12 embed-responsive embed-responsive-4by3">
            <div class="embed-responsive-item" id="subscribers"></div>
            <div id="publisher"></div>
        </div>

{% endblock %}

{% block javascript_footer %}

    <script src="{{ asset('js/opentok/opentok.min.js') }}"></script>
    <script type="text/javascript">
        var apiKey = '{{ apiKey }}';
        var sessionId = '{{ workshop.videoChatSessionId }}';
        var token = '{{ token }}';
        var session = OT.initSession(apiKey, sessionId);
    </script>
    <script src="{{ asset('js/opentok/opentok-option.js') }}"></script>
{% endblock %}

{% extends 'Admin/base.html.twig' %}